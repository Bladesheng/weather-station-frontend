(()=>{"use strict";const e="meteostanice-pwa-v6",t=["/weather-station-frontend/","/weather-station-frontend/index.html","/weather-station-frontend/app.js","/weather-station-frontend/favicon.ico","/weather-station-frontend/manifest.webmanifest"];console.log(self.location),self.addEventListener("install",(n=>{n.waitUntil((async()=>{try{const n=await caches.open(e);console.log("[SW] Installing new service worker and caching all files"),await n.addAll(t)}catch(e){console.error(e)}})())})),self.addEventListener("fetch",(n=>{const a=new URL(n.request.url),s=t.includes(a.pathname),o="image"===n.request.destination;(s||o)&&n.respondWith((async()=>{console.log(`[SW] Fetching resource: ${n.request.url}`);const t=await caches.open(e),a=await t.match(n.request);if(a)return a;const s=await fetch(n.request);return console.log(`[SW] Caching new resource: ${n.request.url}`),t.put(n.request,s.clone()),s})()),a.pathname,a.pathname})),self.addEventListener("activate",(t=>{console.log("[SW] Activating new service worker"),t.waitUntil((async()=>{const t=await caches.keys();for(const n of t)n!==e&&(console.log(`[SW] Deleting old cache: ${n}`),caches.delete(n))})())}))})();